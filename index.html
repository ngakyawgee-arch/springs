<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <title>LFM - Weekly Manager Pro (Fixed v3.0)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root { --primary: #27ae60; --danger: #e74c3c; --glass-dark: rgba(20, 20, 20, 0.98); --text: #ffffff; }
        body { background: #0f172a; color: var(--text); font-family: sans-serif; margin: 0; padding-bottom: 90px; }
        .toast { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); padding: 14px 28px; border-radius: 12px; color: white; font-weight: bold; box-shadow: 0 10px 30px rgba(0,0,0,0.5); z-index: 9999; display: none; min-width: 250px; text-align: center; font-size: 14px; }
        .card { background: var(--glass-dark); padding: 18px; border-radius: 16px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.1); }
        .hide { display: none !important; }
        .page { padding: 15px; max-width: 550px; margin: auto; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        input, select, textarea { width: 100%; padding: 14px; margin: 8px 0; border-radius: 10px; border: 1px solid #334155; background: #1e293b; color: white; font-size: 16px; box-sizing: border-box; }
        .btn { width: 100%; padding: 14px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; margin-top: 10px; font-size: 16px; transition: 0.2s; }
        .btn:active { transform: scale(0.98); }
        .btn-save { background: var(--primary); color: white; }
        .btn-expense { background: #ea580c; color: white; }
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: #020617; display: flex; justify-content: space-around; padding: 12px 0; border-top: 1px solid #1e293b; z-index: 100; }
        .nav-item { text-align: center; font-size: 11px; color: #64748b; cursor: pointer; flex: 1; }
        .nav-item.active { color: var(--primary); font-weight: bold; }
        .balance-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px; }
        .bal-card { background: #1e293b; padding: 15px; border-radius: 16px; text-align: center; }
        
        /* PNG Template Styles */
        #exportArea { position: fixed; left: -9999px; top: 0; width: 550px; background: white; color: #1e293b; }
        .exp-header { background: #f8fafc; padding: 30px; text-align: center; border-bottom: 3px solid #27ae60; }
        .exp-logo { width: 80px; height: 80px; border-radius: 50%; margin-bottom: 10px; border: 2px solid #27ae60; }
        .exp-body { padding: 30px; }
        .exp-row { display: flex; justify-content: space-between; border-bottom: 1px solid #f1f5f9; padding: 15px 5px; font-size: 18px; }
        .exp-label { color: #64748b; }
        .exp-value { font-weight: bold; }
        .exp-amount-box { margin-top: 25px; background: #f0fdf4; padding: 25px; border-radius: 15px; text-align: center; border: 2px solid #dcfce7; }
        .exp-note-box { margin-top: 20px; padding: 15px; background: #f8fafc; border-radius: 10px; border-left: 4px solid #cbd5e1; font-style: italic; color: #475569; }
    </style>
</head>
<body>

    <div id="toast" class="toast"></div>

    <div id="loginPage" class="page">
        <div style="text-align: center; margin-top: 80px; margin-bottom: 40px;">
            <div style="font-size: 60px;">ğŸ®</div>
            <h1 style="color: var(--primary); margin: 10px 0;">LFM Pro</h1>
            <p style="color: #64748b;">á€¡á€•á€á€ºá€…á€‰á€º á€‘á€±á€¬á€€á€ºá€•á€­á€¯á€·á€…á€®á€™á€¶á€á€”á€·á€ºá€á€½á€²á€™á€¾á€¯</p>
        </div>
        <div class="card">
            <input type="email" id="email" placeholder="á€¡á€®á€¸á€™á€±á€¸á€œá€º">
            <input type="password" id="password" placeholder="á€œá€»á€¾á€­á€¯á€·á€á€¾á€€á€ºá€”á€¶á€•á€«á€á€º">
            <button class="btn btn-save" id="loginBtn" onclick="login()">LOGIN</button>
            <p id="loginError" style="color: var(--danger); font-size: 12px; margin-top: 10px; text-align: center;"></p>
        </div>
    </div>

    <div id="mainApp" class="hide">
        <div class="page">
            <div class="balance-grid">
                <div class="bal-card">
                    <small style="color: #94a3b8;">á€¡á€œá€¾á€°á€„á€½á€±á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸</small>
                    <div id="globalIncome" style="color:#22c55e; font-weight:800; font-size: 1.2em;">0</div>
                </div>
                <div class="bal-card">
                    <small style="color: #94a3b8;">á€¡á€á€¯á€¶á€¸á€…á€›á€­á€á€º</small>
                    <div id="globalExpense" style="color:#ef4444; font-weight:800; font-size: 1.2em;">0</div>
                </div>
            </div>
            
            <div class="card" style="background: rgba(39, 174, 96, 0.1); border: 1px solid var(--primary);">
                <div style="display: flex; justify-content: space-between;">
                    <small style="color: var(--primary);">á€˜á€á€ºá€‚á€»á€€á€º (Budget)</small>
                    <button onclick="setBudget()" style="background:none; border:1px solid var(--primary); color:white; font-size:10px; border-radius:4px; cursor:pointer;">á€á€á€ºá€™á€¾á€á€ºá€™á€Šá€º</button>
                </div>
                <div id="budgetValue" style="font-size: 20px; font-weight: bold; margin: 5px 0;">0 á€˜á€á€º</div>
                <div style="width: 100%; background: #334155; height: 8px; border-radius: 4px;">
                    <div id="budgetBar" style="height: 100%; width: 0%; background: var(--primary); border-radius: 4px; transition: 0.5s;"></div>
                </div>
            </div>

            <div class="card" style="text-align:center; background: #020617;">
                <small style="color: #94a3b8;">á€œá€€á€ºá€€á€»á€”á€ºá€„á€½á€±</small>
                <div id="netBalance" style="font-size:26px; font-weight:900;">0 á€˜á€á€º</div>
            </div>
        </div>

        <div id="incomeTab" class="page">
            <h3>ğŸ’° á€¡á€œá€¾á€°á€›á€¾á€„á€ºá€¡á€á€…á€ºá€‘á€Šá€·á€ºá€›á€”á€º</h3>
            <div class="card">
                <input type="text" id="donorName" placeholder="á€¡á€œá€¾á€°á€›á€¾á€„á€ºá€¡á€™á€Šá€º">
                <input type="number" id="incomeAmount" placeholder="á€•á€™á€¬á€ (á€˜á€á€º)">
                <select id="incomeWeek"></select>
                <input type="date" id="incomeDate">
                <button class="btn btn-save" onclick="saveIncome()">á€á€­á€™á€ºá€¸á€†á€Šá€ºá€¸á€™á€Šá€º</button>
            </div>
            <div id="incomeHistoryList"></div>
        </div>

        <div id="expenseTab" class="page hide">
            <h3>ğŸšš á€‘á€±á€¬á€€á€ºá€•á€­á€¯á€·á€™á€¾á€á€ºá€á€™á€ºá€¸á€¡á€á€…á€º</h3>
            <div class="card">
                <input type="text" id="expOrg" placeholder="á€¡á€–á€½á€²á€·á€¡á€™á€Šá€º">
                <input type="text" id="expActivity" placeholder="á€œá€¾á€¯á€•á€ºá€›á€¾á€¬á€¸á€™á€¾á€¯">
                <input type="text" id="expRegion" placeholder="á€’á€±á€">
                <input type="number" id="expAmount" placeholder="á€•á€™á€¬á€ (á€˜á€á€º)">
                <input type="date" id="expDate">
                <textarea id="expNote" rows="2" placeholder="á€™á€¾á€á€ºá€á€»á€€á€º..."></textarea>
                <button class="btn btn-expense" onclick="saveExpense()">á€™á€¾á€á€ºá€á€™á€ºá€¸á€á€„á€ºá€™á€Šá€º</button>
            </div>
        </div>

        <div id="historyTab" class="page hide">
            <h3>ğŸ“œ á€™á€¾á€á€ºá€á€™á€ºá€¸á€™á€»á€¬á€¸</h3>
            <input type="text" id="historySearch" placeholder="á€›á€¾á€¬á€–á€½á€±á€›á€”á€º..." onkeyup="filterHistory()">
            <div id="expenseHistoryList"></div>
        </div>
    </div>

    <div id="exportArea">
        <div class="exp-header">
            <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/7QBEUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAACgcAigAIkZCTUQzMDAwMDI3NDAyMDAwMGI1Y2UwMDAwNGUxNzAxMDAA/9sAQwADAgICAgIDAgICAwMDAwQGBAQEBAQIBgYFBgkICgoJCAkJCgwPDAoLDgsJCQ0RDQ4PEBAREAoMEhMSEBMPEBAQ/9sAQwEDAwMEAwQIBAQIEAsJCxAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ/8AAEQgAwADAAwEiAAIRAQMRAf/EAB4AAAICAwEBAQEAAAAAAAAAAAAHBggBBQkEAwIK/8QAPhAAAQQBAwIEBAQDBwMEAwAAAQIDBAUGAAcREiEIEzFBFCIyURUjYYEWQnEkM1JykaGxCUNiFzRTZGOCwf/EABwBAQACAwEBAQAAAAAAAAAAAAABBQIEBgcDCP/EABoBAQEBAQEBAQAAAAAAAAAAAAABAgMEBQb/2gAMAè§†è§‰æ•ˆæœ/4BAwIEBggJCgsJCAkJCgwPDAoLDgsJCQ0RDQ4PEBAREAoMEhMSEBMPEBAQ/9sAQwEDAwMEAwQIBAQIEAsJCxAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ/8AAEQgAwADAAwEiAAIRAQMRAf/EAB4AAAICAwEBAQEAAAAAAAAAAAAHBggBBQkEAwIK/8QAPhAAAQQBAwIEBAQDBwMEAwAAAQIDBAUGAAcREiEIEzFBFCIyURUjYYEWQnEkM1JykaGxCUNiFzRTZGOCwf/EABwBAQACAwEBAQAAAAAAAAAAAAABBQIEBgcDCP/EADURAAEDAwMSOv6a+789vl6f9M9P8f9UTh0FQHbn9h66Ubm32/j3eb4iosVv3VAwuI0r9i+86P8AbWmi4FhOVX9hjWU+JnLMutapouWtKxlcatVHQPUvRqtLDiE+3CzptaO6Ji5xu9trtwWmcyzCvr5kjj4ev6y9Okk+gZithTzp/RCDqGuZRvdul/ZsGxpzbmgd+q/ySKl22dR37xazkpZPbsuWoEe7CtRPZ3dPwsQncIVspj0FuFuPnsamLdQq0Mq+Ohs+eqNNdd4kB5xtK1thzkrCOfRSSUdl293iC3Nyi92ktqClk1WRsXuISKKDLXXWMa7rXCpw109Xyl9yE9EsGW5HShxKHUBxHQSpIHARPrbS52tTc5zt/sDefxJn8aucdu8ysQq0ZTZ9JTGZnzkkeYsKJUIzPCW0IWAlvsDTB7Et6d/94WUZ1tjFczlFS7iWYOMrdRUSJUI/FMR7Jtsl2AiQz1liW1yguIhyGFhSHWU2q8OmC5pdRdst7msVG3GRQ6Z7Ed+McmVBgN2kWMpwMyGmEAJbcRIT5rSgCnypLyOSOk6YE/caXnd9Y1Ph3p6qbYvlEG6zp+MF1UDyioBpK09KrKQ31L6WW1eU2VHzHEHlCogvMpwtBEx3H9hbP8B2+GQZ/u1lkFtiKrJr16xkxa5pR6XJUlfeLXsrWskpSFOrPSkOOns1Nr9tY+31fMlWFo5e5PevCbkF7IbCHbCSE8JASCQ0w2n5GmQeltA47qKlK+m2+19DtvDmGHJmWtzcOplXN5ZOB2faSAOA48sAABI+VDaAlttPyoSkamOhIGGqUKIOjgDRo1iiNGjRoiNGjRoiNGjRoiNGjRoiNAHGjRoi1eTYvjmZUkrG8so4NvVTUdEiHNYS8y6nnkdSVAg8Hgg+oIBHB0tEbfbrbY8ObT5UjJaFv6cWyyY6pbCB/JDtOFvIAHACJCX0+gC2xpvH+ms+2sg4twir/uPuFtfuThljtTvvCyDbJy4DSAu6CYrTclpxDzL0WyQXIa1oebbWgFzklI6kcEjUPzXwhZBum5AyXJt5nsyl2dlTMT7NTLdaljG4cozVxoIhDpD70puMtb3UCfLT0lAQlOrVSosSdHdhTYzT7DySh1p1AUhaT6hST2I/rpayvDXtMmS7YYrTTs$" class="exp-logo">
            <h2 style="margin: 5px 0; color: #27ae60;">á€–á€­á€¯á€¸á€…á€±á€¬á€„á€·á€ºá€á€±á€¬á€„á€ºá€™á€®á€¸á€¡á€­á€™á€º</h2>
            <p id="outTypeTitle" style="margin: 0; font-size: 14px; font-weight: bold; color: #64748b;"></p>
        </div>
        <div class="exp-body">
            <div id="outRows"></div>
            <div class="exp-amount-box">
                <small id="outAmtLabel"></small>
                <div style="font-size: 32px; font-weight: 900; color: #1e293b;"><span id="outAmt"></span> <small style="font-size: 16px;">THB</small></div>
            </div>
            <div id="outNoteArea" class="exp-note-box hide">
                <small>á€™á€¾á€á€ºá€á€»á€€á€ºá‹</small><br>
                <span id="outNote"></span>
            </div>
        </div>
        <div style="text-align:center; padding: 20px; font-size: 11px; color: #94a3b8; border-top: 1px solid #eee;">Generated by LFM Pro Manager</div>
    </div>

    <nav id="bottomNav" class="bottom-nav hide">
        <div class="nav-item active" onclick="switchTab('incomeTab', this)">ğŸ’°<br>á€¡á€œá€¾á€°á€›á€¾á€„á€º</div>
        <div class="nav-item" onclick="switchTab('expenseTab', this)">ğŸšš<br>á€‘á€±á€¬á€€á€ºá€•á€­á€¯á€·</div>
        <div class="nav-item" onclick="switchTab('historyTab', this)">ğŸ“œ<br>á€™á€¾á€á€ºá€á€™á€ºá€¸</div>
        <div class="nav-item" onclick="logout()">ğŸšª<br>á€‘á€½á€€á€ºá€›á€”á€º</div>
    </nav>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBojMFTkLXmaFGqwq9tLKpXp-wXKqkN_no",
            authDomain: "lamp-88a25.firebaseapp.com",
            databaseURL: "https://lamp-88a25-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "lamp-88a25",
            storageBucket: "lamp-88a25.firebasestorage.app",
            messagingSenderId: "151980650338",
            appId: "1:151980650338:web:0e4e02c09d0ba58a16c63b"
        };
        
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.database();

        let totalInc = 0, totalExp = 0, currentBudget = 0;

        // Auto Week Select
        const ws = document.getElementById('incomeWeek');
        for (let i = 1; i <= 100; i++) {
            let o = document.createElement('option');
            o.value = `Week-${i}`; o.textContent = `á€¡á€•á€á€ºá€…á€‰á€º ${i}`;
            ws.appendChild(o);
        }

        function showToast(m, type="success") {
            const t = document.getElementById('toast');
            t.textContent = m;
            t.style.background = type === "success" ? "#27ae60" : "#e74c3c";
            t.style.display = "block";
            setTimeout(() => t.style.display = "none", 2800);
        }

        // Login with Detailed Errors
        async function login() {
            const e = document.getElementById('email').value.trim();
            const p = document.getElementById('password').value;
            const errEl = document.getElementById('loginError');
            const btn = document.getElementById('loginBtn');

            if(!e || !p) { errEl.textContent = "á€¡á€®á€¸á€™á€±á€¸á€œá€ºá€”á€¾á€„á€·á€º á€œá€»á€¾á€­á€¯á€·á€á€¾á€€á€ºá€”á€¶á€•á€«á€á€º á€–á€¼á€Šá€·á€ºá€•á€«á‹"; return; }
            
            errEl.textContent = "á€á€á€…á€±á€¬á€„á€·á€ºá€•á€«...";
            btn.disabled = true;

            try {
                await auth.signInWithEmailAndPassword(e, p);
            } catch (err) {
                btn.disabled = false;
                console.error(err.code);
                if (err.code === 'auth/user-not-found') errEl.textContent = "á€¤á€¡á€®á€¸á€™á€±á€¸á€œá€ºá€–á€¼á€„á€·á€º á€¡á€€á€±á€¬á€„á€·á€ºá€™á€›á€¾á€­á€•á€«á‹";
                else if (err.code === 'auth/wrong-password') errEl.textContent = "á€œá€»á€¾á€­á€¯á€·á€á€¾á€€á€ºá€”á€¶á€•á€«á€á€º á€™á€¾á€¬á€¸á€”á€±á€•á€«á€á€Šá€ºá‹";
                else if (err.code === 'auth/network-request-failed') errEl.textContent = "á€¡á€„á€ºá€á€¬á€”á€€á€ºá€œá€­á€¯á€„á€ºá€¸ á€™á€€á€±á€¬á€„á€ºá€¸á€•á€«á‹";
                else errEl.textContent = "Login á€á€„á€ºáá€™á€›á€•á€«á‹ Firebase á€á€½á€„á€º Email/Password Enable á€œá€¯á€•á€ºá€‘á€¬á€¸á€•á€«á€á€œá€¬á€¸?";
            }
        }

        auth.onAuthStateChanged(u => {
            if (u) {
                document.getElementById('loginPage').classList.add('hide');
                document.getElementById('mainApp').classList.remove('hide');
                document.getElementById('bottomNav').classList.remove('hide');
                document.getElementById('incomeDate').valueAsDate = new Date();
                document.getElementById('expDate').valueAsDate = new Date();
                startSync();
            }
        });

        function startSync() {
            // Budget Sync
            db.ref('settings/budget').on('value', s => {
                currentBudget = s.val() || 0;
                refreshBudgetUI();
            });

            // Income Sync
            db.ref('weekly_donations').on('value', s => {
                totalInc = 0;
                const list = document.getElementById('incomeHistoryList');
                list.innerHTML = '<h4 style="margin-top:20px;">á€™á€€á€¼á€¬á€á€±á€¸á€™á€®á€€ á€¡á€œá€¾á€°á€›á€¾á€„á€ºá€™á€»á€¬á€¸</h4>';
                let arr = [];
                s.forEach(w => {
                    w.forEach(c => {
                        const v = c.val();
                        totalInc += parseFloat(v.amount || 0);
                        arr.push({id: c.key, week: w.key, ...v});
                    });
                });
                arr.reverse().slice(0, 10).forEach(item => {
                    list.insertAdjacentHTML('beforeend', `
                        <div class="card" style="font-size:13px;">
                            <div style="display:flex; justify-content:space-between;">
                                <b>${item.donorName}</b>
                                <span style="color:var(--primary);">${parseFloat(item.amount).toLocaleString()} á€˜á€á€º</span>
                            </div>
                            <div style="display:flex; justify-content:space-between; margin-top:10px;">
                                <small style="color:#64748b;">${item.week} | ${item.date}</small>
                                <button onclick="exportDonorPNG('${item.week}','${item.id}')" style="background:none; border:none; color:#38bdf8; cursor:pointer; font-size:11px;">ğŸ“· PNG á€‘á€¯á€á€ºá€™á€Šá€º</button>
                            </div>
                        </div>
                    `);
                });
                document.getElementById('globalIncome').textContent = totalInc.toLocaleString();
                refreshNetUI();
            });

            // Expense Sync
            db.ref('expenses').on('value', s => {
                totalExp = 0;
                const list = document.getElementById('expenseHistoryList');
                list.innerHTML = '';
                let arr = [];
                s.forEach(c => {
                    const v = c.val();
                    totalExp += parseFloat(v.amount || 0);
                    arr.push({id: c.key, ...v});
                });
                arr.reverse().forEach(item => {
                    list.insertAdjacentHTML('beforeend', `
                        <div class="card" style="border-left: 4px solid #ea580c;">
                            <div style="display:flex; justify-content:space-between;">
                                <b>${item.org}</b>
                                <small style="color:#64748b;">${item.date}</small>
                            </div>
                            <div style="margin:8px 0; color:#cbd5e1; font-size:14px;">${item.activity} (${item.region})</div>
                            <div style="display:flex; justify-content:space-between; align-items:center;">
                                <span style="font-weight:bold;">${parseFloat(item.amount).toLocaleString()} á€˜á€á€º</span>
                                <div style="display:flex; gap:8px;">
                                    <button class="btn btn-save" style="padding:6px 12px; font-size:11px; margin:0;" onclick="exportExpensePNG('${item.id}')">ğŸ“· PNG</button>
                                    <button class="btn" style="background:#334155; color:white; padding:6px 12px; font-size:11px; margin:0;" onclick="delExp('${item.id}')">ğŸ—‘ï¸</button>
                                </div>
                            </div>
                        </div>
                    `);
                });
                document.getElementById('globalExpense').textContent = totalExp.toLocaleString();
                refreshNetUI();
                refreshBudgetUI();
            });
        }

        function refreshBudgetUI() {
            document.getElementById('budgetValue').textContent = currentBudget.toLocaleString() + " á€˜á€á€º";
            const p = currentBudget > 0 ? Math.min((totalExp / currentBudget) * 100, 100) : 0;
            document.getElementById('budgetBar').style.width = p + "%";
            document.getElementById('budgetBar').style.background = p > 90 ? "var(--danger)" : "var(--primary)";
        }

        function refreshNetUI() {
            const net = totalInc - totalExp;
            const el = document.getElementById('netBalance');
            el.textContent = net.toLocaleString() + " á€˜á€á€º";
            el.style.color = net >= 0 ? "#22c55e" : "#ef4444";
        }

        function setBudget() {
            const b = prompt("á€˜á€á€ºá€‚á€»á€€á€ºá€¡á€á€…á€º á€á€á€ºá€™á€¾á€á€ºá€•á€«:", currentBudget);
            if (b !== null) db.ref('settings/budget').set(parseFloat(b));
        }

        function saveIncome() {
            const n = document.getElementById('donorName').value, a = document.getElementById('incomeAmount').value, w = document.getElementById('incomeWeek').value, d = document.getElementById('incomeDate').value;
            if(!n || !a) return showToast("á€¡á€á€»á€€á€ºá€¡á€œá€€á€ºá€•á€¼á€Šá€·á€ºá€…á€¯á€¶á€…á€½á€¬ á€–á€¼á€Šá€·á€ºá€•á€«á‹", "error");
            db.ref(`weekly_donations/${w}`).push({ donorName: n, amount: a, date: d })
            .then(() => { showToast("á€á€­á€™á€ºá€¸á€†á€Šá€ºá€¸á€•á€¼á€®á€¸"); document.getElementById('donorName').value=''; document.getElementById('incomeAmount').value=''; });
        }

        function saveExpense() {
            const o = document.getElementById('expOrg').value, a = document.getElementById('expAmount').value;
            if(!o || !a) return showToast("á€¡á€á€»á€€á€ºá€¡á€œá€€á€ºá€•á€¼á€Šá€·á€ºá€…á€¯á€¶á€…á€½á€¬ á€–á€¼á€Šá€·á€ºá€•á€«á‹", "error");
            db.ref('expenses').push({
                org: o, amount: a, activity: document.getElementById('expActivity').value,
                region: document.getElementById('expRegion')